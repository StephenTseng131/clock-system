<!DOCTYPE HTML>
<html>

<head>
    <title>添加课程</title>
    <!-- Meta tag Keywords -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8"/>
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <script src="../../../static/js/jquery.js"></script>
    <!-- Meta tag Keywords -->
    <!-- css files -->
    <link rel="stylesheet" href="../../../static/css/addUser.css" type="text/css" media="all"/>
    <link rel="stylesheet" href="../../../static/css/bootstrap.min.css" type="text/css" media="all"/>
    <link rel="stylesheet" href="../../../static/css/style.css" type="text/css" media="all"/>
    <!-- Style-CSS -->
    <!-- Font-Awesome-Icons-CSS -->
    <!-- //css files -->
    <!-- web-fonts -->

</head>

<body>
<!-- 返回主页 -->
<a href="/teacher/addAttend">
    <div class="back-to-index">
        <img class="image" src="../../../static/images/return.png"/>
        <span>返回</span>
    </div>
</a>
<div class="mx-auto pt-5">
    <!-- title -->
    <center class="mt-5">
        <h1 class="header-w3ls" id="title-add">添加课程</h1>
    </center>
    <!-- //title -->
    <!-- content -->
    <div class="porduct-order-agile mt-0 p-0" id="content-add">
        <form action="/teacher/addCourseCode" method="post" id="targetDiv">
            <div class="form-group">
                <p>课程名称</p>
                <select class="form-select form-control m-0 border border-right" name="courseNo" id="courseData">
                    <option th:each="course:${courseList}" th:value="${course.courseNo}">
                        <span th:text="${course.courseName}"></span>
                        <span th:switch="${course.week}">
                            <span th:case="1">星期一</span>
                            <span th:case="2">星期二</span>
                            <span th:case="3">星期三</span>
                            <span th:case="4">星期四</span>
                            <span th:case="5">星期五</span>
                            <span th:case="6">星期六</span>
                            <span th:case="7">星期日</span>
                        </span>
                        <span th:text="${#dates.format(course.startTime, 'HH:mm:ss')}"></span>
                        <span th:text="${#dates.format(course.endTime, 'HH:mm:ss')}"></span>
                    </option>
                </select>
            </div>
            <div class="form-group">
                <p>课程码 </p>
                <div class="d-flex flex-row">
                    <input type="text" id="courseClass" class="col-md-10" name="courseClass" pattern="\w{8}" maxlength="8" placeholder="请输入8位课程码" required>
                    <button id="generateCode" class="btn btn-secondary  col-md-2 p-0 mt-2 mx-1" style="height:45px;" type="button">生成课程码</button>
                </div>
            </div>

            <button type="submit" class="btn btn-primary d-block" id="btn-add">完成</button>
        </form>
    </div>
</div>
<script src="./../../../static/js/jquery.js"></script>
<script>
    $('#generateCode').click(function() {
        $.get('/teacher/generateCourseCode',
            function(data) {
                $('#courseClass').val(data);
        })
    })
</script>
</body>

</html>