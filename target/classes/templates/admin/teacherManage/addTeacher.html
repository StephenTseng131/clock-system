<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>添加教师</title>
    <!-- Meta tag Keywords -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8"/>
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <script src="../../../static/js/jquery.js"></script>
    <!-- Meta tag Keywords -->
    <!-- css files -->
    <link rel="stylesheet" href="../../../static/css/addUser.css" type="text/css" media="all"/>
    <link rel="stylesheet" href="../../../static/css/bootstrap.min.css" type="text/css" media="all"/>
    <link rel="stylesheet" href="../../../static/css/style.css" type="text/css" media="all"/>
    <!-- Style-CSS -->
    <!-- Font-Awesome-Icons-CSS -->
    <!-- //css files -->
    <!-- web-fonts -->
</head>

<body>
<!-- 返回主页 -->
<a href="/admin/teacherManage">
    <div class="back-to-index">
        <img class="image" src="../../../static/images/return.png"/>
        <span>返回</span>
    </div>
</a>
<!-- title -->
<center>
    <h1 class="header-w3ls" id="title-add">添加教师</h1>
</center>
<!-- //title -->
<!-- content -->
<div class="porduct-order-agile" id="content-add">
    <form action="/admin/teacherAdd" method="post">
        <div class="form-group">
            <p>姓名 </p >
            <input type="text" name="tName" placeholder="请输入姓名" required>
        </div>
        <div class="form-group">
            <p>密码</p>
            <input type="password" maxlength="30" pattern="^.{6,29}$" name="password" placeholder="请输入密码,6-30位" value="123456" required>
        </div>
        <div class="form-group">
            <p>手机号码</p>
            <input type="text" name="tPhone" maxlength="11" pattern="\d{11}" placeholder="请输入手机号码" required>
        </div>
        <div class="input-group border border-1 border-dark p-0 mb-3">
            <span class="input-group-text">职位</span>
            <select class="form-select form-control m-0 border border-right" id="roleName" name="roleName">
                <option value="辅导员">辅导员</option>
                <option value="任课老师">任课老师</option>
            </select>
            <span class="input-group-text">学院</span>
            <select class="form-select form-control m-0 border border-right" name="departmentNo" id="department">
                <!-- 这里显示学院 -->
            </select>
        </div>
        <button type="submit" class="btn btn-primary" id="btn-add">完成</button>
    </form>
</div>
<script>
    $.ajax({
        type: "GET",
        url: "/admin/departmentData",
        dataType: "json",  // 告诉jQuery预期的响应数据类型是JSON
        success: function (data) {
            $.each(data, function (index, department) {
                $("#department").append($("<option>").val(department.departmentNo).text(department.departmentName));
            });
        },
        error: function () {
            console.error("Failed to fetch department data");
        }
    });
</script>
</body>
</html>